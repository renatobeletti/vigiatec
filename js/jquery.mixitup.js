!function(t){function i(i,r,n,o,l){function c(){v.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd"),r&&e(r,n,o,l),l.startOrder=[],l.newOrder=[],l.origSort=[],l.checkSort=[],g.removeStyle(l.prefix+"filter, filter, "+l.prefix+"transform, transform, opacity, display").css(l.clean).removeAttr("data-checksum"),window.atob||g.css({display:"none",opacity:"0"});var t=l.resizeContainer?"height":"";v.removeStyle(l.prefix+"transition, transition, "+l.prefix+"perspective, perspective, "+l.prefix+"perspective-origin, perspective-origin, "+t),"list"==l.layoutMode?(m.css({display:l.targetDisplayList,opacity:"1"}),l.origDisplay=l.targetDisplayList):(m.css({display:l.targetDisplayGrid,opacity:"1"}),l.origDisplay=l.targetDisplayGrid),l.origLayout=l.layoutMode;setTimeout(function(){if(g.removeStyle(l.prefix+"transition, transition"),l.mixing=!1,"function"==typeof l.onMixEnd){var t=l.onMixEnd.call(this,l);l=t||l}})}if(clearInterval(l.failsafe),l.mixing=!0,l.filter=i,"function"==typeof l.onMixStart){var d=l.onMixStart.call(this,l);l=d||l}for(var f=l.transitionSpeed,p=0;p<2;p++){var u=0==p?u=l.prefix:"";l.transition[u+"transition"]="all "+f+"ms linear",l.transition[u+"transform"]=u+"translate3d(0,0,0)",l.perspective[u+"perspective"]=l.perspectiveDistance+"px",l.perspective[u+"perspective-origin"]=l.perspectiveOrigin}var h=l.targetSelector,g=o.find(h);g.each(function(){this.data={}});var v=g.parent();v.css(l.perspective),l.easingFallback="ease-in-out","smooth"==l.easing&&(l.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==l.easing&&(l.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==l.easing&&(l.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",l.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==l.easing&&(l.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",l.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");var y="list"==l.layoutMode&&null!=l.listEffects?l.listEffects:l.effects;Array.prototype.indexOf&&(l.fade=y.indexOf("fade")>-1?"0":"",l.scale=y.indexOf("scale")>-1?"scale(.01)":"",l.rotateZ=y.indexOf("rotateZ")>-1?"rotate(180deg)":"",l.rotateY=y.indexOf("rotateY")>-1?"rotateY(90deg)":"",l.rotateX=y.indexOf("rotateX")>-1?"rotateX(90deg)":"",l.blur=y.indexOf("blur")>-1?"blur(8px)":"",l.grayscale=y.indexOf("grayscale")>-1?"grayscale(100%)":"");var m=t(),x=t(),C=[],O=!1;"string"==typeof i?C=s(i):(O=!0,t.each(i,function(t){C[t]=s(this)})),"or"==l.filterLogic?(""==C[0]&&C.shift(),C.length<1?x=x.add(o.find(h+":visible")):g.each(function(){var i=t(this);if(O){var e=0;t.each(C,function(t){this.length?i.is("."+this.join(", ."))&&e++:e>0&&e++}),e==C.length?m=m.add(i):x=x.add(i)}else i.is("."+C.join(", ."))?m=m.add(i):x=x.add(i)})):(m=m.add(v.find(h+"."+C.join("."))),x=x.add(v.find(h+":not(."+C.join(".")+"):visible")));var S=m.length,b=t(),w=t(),L=t();if(x.each(function(){var i=t(this);"none"!=i.css("display")&&(b=b.add(i),L=L.add(i))}),m.filter(":visible").length==S&&!b.length&&!r){if(l.origLayout==l.layoutMode)return c(),!1;if(1==m.length)return"list"==l.layoutMode?(o.addClass(l.listClass),o.removeClass(l.gridClass),L.css("display",l.targetDisplayList)):(o.addClass(l.gridClass),o.removeClass(l.listClass),L.css("display",l.targetDisplayGrid)),c(),!1}if(l.origHeight=v.height(),m.length){if(o.removeClass(l.failClass),m.each(function(){var i=t(this);"none"==i.css("display")?w=w.add(i):L=L.add(i)}),l.origLayout!=l.layoutMode&&0==l.animateGridList)return"list"==l.layoutMode?(o.addClass(l.listClass),o.removeClass(l.gridClass),L.css("display",l.targetDisplayList)):(o.addClass(l.gridClass),o.removeClass(l.listClass),L.css("display",l.targetDisplayGrid)),c(),!1;if(!window.atob)return c(),!1;if(g.css(l.clean),L.each(function(){this.data.origPos=t(this).offset()}),"list"==l.layoutMode?(o.addClass(l.listClass),o.removeClass(l.gridClass),w.css("display",l.targetDisplayList)):(o.addClass(l.gridClass),o.removeClass(l.listClass),w.css("display",l.targetDisplayGrid)),w.each(function(){this.data.showInterPos=t(this).offset()}),b.each(function(){this.data.hideInterPos=t(this).offset()}),L.each(function(){this.data.preInterPos=t(this).offset()}),"list"==l.layoutMode?L.css("display",l.targetDisplayList):L.css("display",l.targetDisplayGrid),r&&e(r,n,o,l),r&&a(l.origSort,l.checkSort))return c(),!1;b.hide(),w.each(function(i){this.data.finalPos=t(this).offset()}),L.each(function(){this.data.finalPrePos=t(this).offset()}),l.newHeight=v.height(),r&&e("reset",null,o,l),w.hide(),L.css("display",l.origDisplay),"block"==l.origDisplay?(o.addClass(l.listClass),w.css("display",l.targetDisplayList)):(o.removeClass(l.listClass),w.css("display",l.targetDisplayGrid)),l.resizeContainer&&v.css("height",l.origHeight+"px");for(var D={},p=0;p<2;p++)D[(u=0==p?u=l.prefix:"")+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,D[u+"filter"]=l.blur+" "+l.grayscale;w.css(D),L.each(function(){var i=this.data,e=t(this);e.hasClass("mix_tohide")?(i.preTX=i.origPos.left-i.hideInterPos.left,i.preTY=i.origPos.top-i.hideInterPos.top):(i.preTX=i.origPos.left-i.preInterPos.left,i.preTY=i.origPos.top-i.preInterPos.top);for(var r={},a=0;a<2;a++){var s=0==a?s=l.prefix:"";r[s+"transform"]="translate("+i.preTX+"px,"+i.preTY+"px)"}e.css(r)}),"list"==l.layoutMode?(o.addClass(l.listClass),o.removeClass(l.gridClass)):(o.addClass(l.gridClass),o.removeClass(l.listClass));setTimeout(function(){if(l.resizeContainer){for(var i={},e=0;e<2;e++)i[(a=0==e?a=l.prefix:"")+"transition"]="all "+f+"ms ease-in-out",i.height=l.newHeight+"px";v.css(i)}b.css("opacity",l.fade),w.css("opacity",1),w.each(function(){var i=this.data;i.tX=i.finalPos.left-i.showInterPos.left,i.tY=i.finalPos.top-i.showInterPos.top;for(var e={},r=0;r<2;r++){var a=0==r?a=l.prefix:"";e[a+"transition-property"]=a+"transform, "+a+"filter, opacity",e[a+"transition-timing-function"]=l.easing+", linear, linear",e[a+"transition-duration"]=f+"ms",e[a+"transition-delay"]="0",e[a+"transform"]="translate("+i.tX+"px,"+i.tY+"px)",e[a+"filter"]="none"}t(this).css("-webkit-transition","all "+f+"ms "+l.easingFallback).css(e)}),L.each(function(){var i=this.data;i.tX=0!=i.finalPrePos.left?i.finalPrePos.left-i.preInterPos.left:0,i.tY=0!=i.finalPrePos.left?i.finalPrePos.top-i.preInterPos.top:0;for(var e={},r=0;r<2;r++){var a=0==r?a=l.prefix:"";e[a+"transition"]="all "+f+"ms "+l.easing,e[a+"transform"]="translate("+i.tX+"px,"+i.tY+"px)"}t(this).css("-webkit-transition","all "+f+"ms "+l.easingFallback).css(e)});for(var r={},e=0;e<2;e++){var a=0==e?a=l.prefix:"";r[a+"transition"]="all "+f+"ms "+l.easing+", "+a+"filter "+f+"ms linear, opacity "+f+"ms linear",r[a+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,r[a+"filter"]=l.blur+" "+l.grayscale,r.opacity=l.fade}b.css(r),v.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(i){(i.originalEvent.propertyName.indexOf("transform")>-1||i.originalEvent.propertyName.indexOf("opacity")>-1)&&(h.indexOf(".")>-1?t(i.target).hasClass(h.replace(".",""))&&c():t(i.target).is(h)&&c())})},10);l.failsafe=setTimeout(function(){l.mixing&&c()},f+400)}else{if(l.resizeContainer&&v.css("height",l.origHeight+"px"),!window.atob)return c(),!1;b=x;setTimeout(function(){if(v.css(l.perspective),l.resizeContainer){for(var t={},i=0;i<2;i++)t[(r=0==i?r=l.prefix:"")+"transition"]="height "+f+"ms ease-in-out",t.height=l.minHeight+"px";v.css(t)}if(g.css(l.transition),x.length){for(var e={},i=0;i<2;i++){var r=0==i?r=l.prefix:"";e[r+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,e[r+"filter"]=l.blur+" "+l.grayscale,e.opacity=l.fade}b.css(e),v.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(t.originalEvent.propertyName.indexOf("transform")>-1||t.originalEvent.propertyName.indexOf("opacity")>-1)&&(o.addClass(l.failClass),c())})}else l.mixing=!1},10)}}function e(i,e,r,a){function s(t){"asc"==e?n.prepend(t).prepend(" "):n.append(t).append(" ")}r.find(a.targetSelector).wrapAll('<div class="mix_sorter"/>');var n=r.find(".mix_sorter");if(a.origSort.length||n.find(a.targetSelector+":visible").each(function(){t(this).wrap("<s/>"),a.origSort.push(t(this).parent().html().replace(/\s+/g,"")),t(this).unwrap()}),n.empty(),"reset"==i)t.each(a.startOrder,function(){n.append(this).append(" ")});else if("default"==i)t.each(a.origOrder,function(){s(this)});else if("random"==i)a.newOrder.length||(a.newOrder=function(t){for(var i=t.slice(),e=i.length,r=e;r--;){var a=parseInt(Math.random()*e),s=i[r];i[r]=i[a],i[a]=s}return i}(a.startOrder)),t.each(a.newOrder,function(){n.append(this).append(" ")});else if("custom"==i)t.each(e,function(){s(this)});else{if(void 0===a.origOrder[0].attr(i))return console.log("No such attribute found. Terminating"),!1;a.newOrder.length||(t.each(a.origOrder,function(){a.newOrder.push(t(this))}),a.newOrder.sort(function(t,e){var r=isNaN(1*t.attr(i))?t.attr(i).toLowerCase():1*t.attr(i),a=isNaN(1*e.attr(i))?e.attr(i).toLowerCase():1*e.attr(i);return r<a?-1:r>a?1:0})),t.each(a.newOrder,function(){s(this)})}a.checkSort=[],n.find(a.targetSelector+":visible").each(function(i){var e=t(this);0==i&&e.attr("data-checksum","1"),e.wrap("<s/>"),a.checkSort.push(e.parent().html().replace(/\s+/g,"")),e.unwrap()}),r.find(a.targetSelector).unwrap()}function r(t){for(var i=["Webkit","Moz","O","ms"],e=0;e<i.length;e++)if(i[e]+"Transition"in t.style)return i[e];return"transition"in t.style&&""}function a(t,i){if(t.length!=i.length)return!1;for(var e=0;e<i.length;e++){if(t[e].compare&&!t[e].compare(i[e]))return!1;if(t[e]!==i[e])return!1}return!0}function s(i){var e=(i=i.replace(/\s{2,}/g," ")).split(" ");return t.each(e,function(t){"all"==this&&(e[t]="mix_all")}),""==e[0]&&e.shift(),e}var n={init:function(a){return this.each(function(){var s={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};a&&t.extend(s,a),this.config=s,t.support.touch="ontouchend"in document,t.support.touch&&(s.isTouch=!0,s.resetDelay=350),s.container=t(this);var n=s.container;if(s.prefix=r(n[0]),s.prefix=s.prefix?"-"+s.prefix.toLowerCase()+"-":"",n.find(s.targetSelector).each(function(){s.origOrder.push(t(this))}),s.sortOnLoad){var o,l;t.isArray(s.sortOnLoad)?(o=s.sortOnLoad[0],l=s.sortOnLoad[1],t(s.sortSelector+"[data-sort="+s.sortOnLoad[0]+"][data-order="+s.sortOnLoad[1]+"]").addClass("active")):(t(s.sortSelector+"[data-sort="+s.sortOnLoad+"]").addClass("active"),o=s.sortOnLoad,s.sortOnLoad="desc"),e(o,l,n,s)}for(c=0;c<2;c++){d=0==c?d=s.prefix:"";s.transition[d+"transition"]="all "+s.transitionSpeed+"ms ease-in-out",s.perspective[d+"perspective"]=s.perspectiveDistance+"px",s.perspective[d+"perspective-origin"]=s.perspectiveOrigin}for(var c=0;c<2;c++){var d=0==c?d=s.prefix:"";s.clean[d+"transition"]="none"}"list"==s.layoutMode?(n.addClass(s.listClass),s.origDisplay=s.targetDisplayList):(n.addClass(s.gridClass),s.origDisplay=s.targetDisplayGrid),s.origLayout=s.layoutMode;var f=s.showOnLoad.split(" ");t.each(f,function(){t(s.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),n.find(s.targetSelector).addClass("mix_all"),"all"==f[0]&&(f[0]="mix_all",s.showOnLoad="mix_all");var p=t();t.each(f,function(){p=p.add(t("."+this))}),p.each(function(){var i=t(this);"list"==s.layoutMode?i.css("display",s.targetDisplayList):i.css("display",s.targetDisplayGrid),i.css(s.transition)});setTimeout(function(){s.mixing=!0,p.css("opacity","1");setTimeout(function(){if("list"==s.layoutMode?p.removeStyle(s.prefix+"transition, transition").css({display:s.targetDisplayList,opacity:1}):p.removeStyle(s.prefix+"transition, transition").css({display:s.targetDisplayGrid,opacity:1}),s.mixing=!1,"function"==typeof s.onMixLoad){var t=s.onMixLoad.call(this,s);s=t||s}},s.transitionSpeed)},10);s.filter=s.showOnLoad,t(s.sortSelector).bind(s.buttonEvent,function(){if(!s.mixing){var e=t(this),r=e.attr("data-sort"),a=e.attr("data-order");if(e.hasClass("active")){if("random"!=r)return!1}else t(s.sortSelector).removeClass("active"),e.addClass("active");n.find(s.targetSelector).each(function(){s.startOrder.push(t(this))}),i(s.filter,r,a,n,s)}}),t(s.filterSelector).bind(s.buttonEvent,function(){if(!s.mixing){var e=t(this);if(0==s.multiFilter)t(s.filterSelector).removeClass("active"),e.addClass("active"),s.filter=e.attr("data-filter"),t(s.filterSelector+'[data-filter="'+s.filter+'"]').addClass("active");else{var r=e.attr("data-filter");if(e.hasClass("active")){e.removeClass("active");var a=new RegExp("(\\s|^)"+r);s.filter=s.filter.replace(a,"")}else e.addClass("active"),s.filter=s.filter+" "+r}i(s.filter,null,null,n,s)}})})},toGrid:function(){return this.each(function(){var e=this.config;"grid"!=e.layoutMode&&(e.layoutMode="grid",i(e.filter,null,null,t(this),e))})},toList:function(){return this.each(function(){var e=this.config;"list"!=e.layoutMode&&(e.layoutMode="list",i(e.filter,null,null,t(this),e))})},filter:function(e){return this.each(function(){var r=this.config;r.mixing||(t(r.filterSelector).removeClass("active"),t(r.filterSelector+'[data-filter="'+e+'"]').addClass("active"),i(e,null,null,t(this),r))})},sort:function(e){return this.each(function(){var r=this.config,a=t(this);if(!r.mixing){if(t(r.sortSelector).removeClass("active"),t.isArray(e)){var s=e[0],n=e[1];t(r.sortSelector+'[data-sort="'+e[0]+'"][data-order="'+e[1]+'"]').addClass("active")}else{t(r.sortSelector+'[data-sort="'+e+'"]').addClass("active");var s=e,n="desc"}a.find(r.targetSelector).each(function(){r.startOrder.push(t(this))}),i(r.filter,s,n,a,r)}})},multimix:function(e){return this.each(function(){var r=this.config,a=t(this);multiOut={filter:r.filter,sort:null,order:"desc",layoutMode:r.layoutMode},t.extend(multiOut,e),r.mixing||(t(r.filterSelector).add(r.sortSelector).removeClass("active"),t(r.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),void 0!==multiOut.sort&&(t(r.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),a.find(r.targetSelector).each(function(){r.startOrder.push(t(this))})),r.layoutMode=multiOut.layoutMode,i(multiOut.filter,multiOut.sort,multiOut.order,a,r))})},remix:function(e){return this.each(function(){var r=this.config,a=t(this);r.origOrder=[],a.find(r.targetSelector).each(function(){var i=t(this);i.addClass("mix_all"),r.origOrder.push(i)}),r.mixing||void 0===e||(t(r.filterSelector).removeClass("active"),t(r.filterSelector+'[data-filter="'+e+'"]').addClass("active"),i(e,null,null,a,r))})}};t.fn.mixitup=function(t,i){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:n.init.apply(this,arguments)},t.fn.removeStyle=function(i){return this.each(function(){var e=t(this),r=(i=i.replace(/\s+/g,"")).split(",");t.each(r,function(){var t=new RegExp(this.toString()+"[^;]+;?","g");e.attr("style",function(i,e){if(e)return e.replace(t,"")})})})}}(jQuery);